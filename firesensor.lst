C51 COMPILER V9.01   FIRESENSOR                                                            02/23/2017 22:54:48 PAGE 1   


C51 COMPILER V9.01, COMPILATION OF MODULE FIRESENSOR
OBJECT MODULE PLACED IN .\hex\firesensor.obj
COMPILER INVOKED BY: D:\Keil_C51\C51\BIN\C51.EXE fireSensor\firesensor.c BROWSE INCDIR(.\motor;.\trace;.\fireSensor) DEB
                    -UG OBJECTEXTEND PRINT(.\firesensor.lst) OBJECT(.\hex\firesensor.obj)

line level    source

   1          #include <reg52.h>
   2          #include "firesensor.h"
   3          //sbit fireSensor[5]={1,1,1,1,1};
   4          sfr fireSensor=0XA0;                    //P2端口的地址
   5          //从左到右 P20 P21 P22 P23 P24
   6          sbit sersor0=P2^0;
   7          sbit sersor1=P2^1;
   8          sbit sersor2=P2^2;
   9          sbit sersor3=P2^3;
  10          sbit sersor4=P2^4;
  11          
  12          void initAngleMotor(void)
  13          {
  14   1              TMOD&=0XF0;
  15   1              TMOD|=0X01;                             //定时器0 16位定时器
  16   1              TR0=1;
  17   1              ET1=1;
  18   1              EA=1;
  19   1      }
  20          
  21          char checkFire(void)    //返回定时器角度值
  22          {
  23   1              static char fire[5];
  24   1              char i;
  25   1              char angle;
  26   1              char fs;
  27   1              fs=fireSensor;
  28   1              for(i=0;i<5;i++)
  29   1              {
  30   2                      fire[i]|=(char)((fs>>i)&0X01);
  31   2                      if(fire[i])
  32   2                      {
  33   3                              angle=(i+1)*ANGLE_BASE;
  34   3                              return angle;
  35   3                      }
  36   2              }                 
  37   1      }
  38          
  39          //在main中写T0的中断函数 调整舵机角度 为配合风扇 设置flag
  40          
  41          
*** WARNING C291 IN LINE 37 OF FIRESENSOR\FIRESENSOR.C: not every exit path returns a value


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     60    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      5    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  1 WARNING(S),  0 ERROR(S)
